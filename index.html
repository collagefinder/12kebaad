<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Collagefinder — Personalized College Info</title>
  <meta name="description" content="Collagefinder: find colleges by state & course. Personalized welcome and sample dataset.">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="topbar">
    <div class="container top-inner">
      <div class="brand">🎓 <strong>Collagefinder</strong></div>
      <div class="tools">
        <button id="uploadBtn" class="btn accent">Upload Colleges CSV/JSON</button>
        <input id="fileInput" type="file" accept=".csv,application/json" style="display:none" />
        <button id="downloadUser" class="btn">Export Users</button>
        <button id="resetBtn" class="btn ghost">Reset</button>
      </div>
    </div>
  </header>

  <main class="container main">
    <section class="hero">
      <div class="hero-left">
        <h1 id="greeting">Welcome to Collagefinder! 🎉</h1>
        <p class="muted">Find colleges in your state offering the course you're interested in. Upload a dataset (CSV/JSON) to include more colleges.</p>

        <div class="controls">
          <label for="stateSelect">State</label>
          <select id="stateSelect" class="select"></select>

          <label for="courseInput">Course (type or pick)</label>
          <input id="courseInput" list="courseList" placeholder="e.g., B.Com, B.Tech, MBA" />
          <datalist id="courseList"></datalist>

          <div class="row">
            <button id="searchBtn" class="btn big primary">Show Colleges</button>
            <button id="showAllBtn" class="btn big">Show Sample</button>
          </div>
        </div>
      </div>

      <div class="hero-right">
        <div class="card summary">
          <h3>Your saved info</h3>
          <div id="savedInfo">— not set —</div>
          <button id="editInfo" class="btn ghost">Edit info</button>
        </div>

        <div class="card upload">
          <h3>Dataset</h3>
          <p class="muted small">Upload a CSV with columns: <code>name,city,state,courses,fees,cutoff,website,contact</code> or a JSON array with those keys.</p>
        </div>
      </div>
    </section>

    <section class="results" aria-live="polite">
      <h2 id="resultsTitle">Colleges</h2>
      <div id="cards" class="cards-grid"></div>
      <div id="noResults" class="muted" style="display:none">No colleges found — try another filter or upload more data.</div>
    </section>

    <section class="howto">
      <h3>How to use</h3>
      <ol>
        <li>On first visit you'll see a modal asking your name, state, mobile and course — save it to personalize results.</li>
        <li>Use State + Course to find colleges. Click "Show Sample" to view included sample colleges.</li>
        <li>Upload a CSV/JSON to add more colleges to the site (stored in your browser via localStorage).</li>
        <li>Export users or reset stored data with the top-right buttons.</li>
      </ol>
    </section>
  </main>

  <!-- Welcome Modal -->
  <div id="welcomeModal" class="modal" role="dialog" aria-modal="true">
    <div class="modal-panel">
      <h2>Tell us a bit about you 👋</h2>
      <form id="welcomeForm">
        <label for="userName">Name</label>
        <input id="userName" name="name" required placeholder="Your name">

        <label for="userState">State</label>
        <select id="userState" name="state" required></select>

        <label for="userMobile">Mobile Number</label>
        <input id="userMobile" name="mobile" required placeholder="Mobile number">

        <label for="userCourse">Course interested in</label>
        <input id="userCourse" name="course" list="courseList" required placeholder="e.g., B.Com">

        <div class="row">
          <button type="submit" class="btn primary">Save & Continue</button>
          <button id="skipBtn" type="button" class="btn ghost">Skip</button>
        </div>
      </form>
    </div>
  </div>

  <footer class="footer">
    <div class="container">Made with ❤️ • Works in your browser. Upload a dataset to include more colleges.</div>
  </footer>

  <script src="script.js"></script>
</body>
</html>